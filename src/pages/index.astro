---
import { getCollection } from "astro:content";
import FormattedDate from "../components/FormattedDate.astro";
const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---
<html lang="jp">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css">
   <style>
      body {
      font-family: "Noto Sans Japanese", sans-serif;
      }
   </style>   
</head>
<body>
   <div class="grid grid-cols-12 gap-0">
      <div class="col-span-12 md:col-span-4 lg:col-span-3">
        <aside id="sidebar" class="hidden md:block bg-gray-900 h-full px-10">
          <a href="#" id="close-menu" class="inline-block md:hidden" onclick="closeSidebar()">
             <svg class="absolute top-5 right-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
             </svg>
          </a>
          <div class="sticky h-screen top-0 py-20 flex flex-wrap content-center">
             <div class="w-full">
                <a href="/"><img src="https://media.publit.io/file/Yamazaki.png" alt="dabiddo" class="border-2 border-white justify-center inline-block rounded-full object-cover object-center h-24 w-24 md:h-48 md:w-48"></a>
             </div>
             <div>
                <ul class="w-full mt-20">
                   <li class="mb-5"><a href="index.html" class="text-gray-300 hover:text-white">Home</a></li>
                   <!--<li class="mb-5"><a href="single.html" class="text-gray-300 hover:text-white">Single Post Layout</a></li>-->
                   <li class="mb-5"><a href="#" class="text-gray-300 hover:text-white">About</a></li>
                </ul>
             </div>
             <div class="w-full mt-20">
                <p class="font-extrabold text-gray-300 mt-5">メキシコ人がメキシコを紹介する</p>
             </div>
          </div>
       </aside>
      </div>
      <div class="col-span-12 md:col-span-8 lg:col-span-9">
       <main class="p-4 md:p-5">
          <section>
                {
                   posts.map((post) => (
                     
                      <div class="bg-white rounded shadow">
                         <div class="p-6 md:p-7 lg:p-9">
                            <!--<a href="#" class="font-bold text-red-500">Tech</a>-->
                            <h3 class="font-extrabold text-xl sm:text-2xl md:text-3xl lg:text-4xl mt-2"><a href={`/blog/${post.slug}/`}>{post.data.title}</a></h3>
                            <div class="mt-3 mb-3 text-sm text-gray-700 flex items-center">
                               <a href="#" class="font-bold text-gray-600">{post.data.author}</a> 
                               <span class="ml-3">
                                  <svg class="inline mr-1 -mt-0.5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                     <circle cx="12" cy="12" r="10"></circle>
                                     <polyline points="12 6 12 12 16 14"></polyline>
                                  </svg>
                                  <FormattedDate date={post.data.pubDate} />
                               </span>
                            </div>
                            <div class="text-base md:text-lg text-gray-500">
                               <p class="leading-7 lg:leading-8">{post.data.description}</p>
                            </div>
                            <a href={`/blog/${post.slug}/`} class="mt-4 inline-block font-bold text-red-500">Read more...</a>  
                         </div>
                      </div>
                      
                   ))
                }
          </section>
          <!--Load More Button Start-->
          <div class="text-center mt-4 md:mt-5">
             <!--<a href="#" class="inline-block text-white bg-red-500 hover:bg-red-600 rounded font-bold py-3 px-7">Load more</a>-->
          </div>
          <!--Load More Button Start-->
       </main>
      </div>
    </div>
</body>
<html>



<script>
   function openSidebar() {
    var sidebar = document.getElementById('sidebar');
  sidebar?.classList.add('fixed', 'top-0', 'right-0', 'left-0','bottom-0', 'z-10');
  sidebar?.classList.remove('hidden');
}

function closeSidebar() {
    var sidebar = document.getElementById('sidebar');
    sidebar?.classList.remove('fixed', 'top-0', 'right-0', 'left-0','bottom-0', 'z-10');
    sidebar?.classList.add('hidden');
}
</script>